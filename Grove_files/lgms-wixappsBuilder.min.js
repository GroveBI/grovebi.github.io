define("wixappsBuilder/core/dataSelectorFactory",["lodash","utils","wixappsCore"],function(a,b,c){"use strict";function f(b,c){var d=b.payload.items||[b.payload.item];return a.each(d,function(a){c[a._iid]=a}),c}function g(c,g,h,i,j,k,l){g=a.defaults(g,{type:h,applicationInstanceId:i.instanceId,applicationInstanceVersion:j,skip:0,sort:{},limit:null,filter:{}});var m={consistentRead:"true"},n=e.getSiteDataDestination(i.type).concat(["items",h]),o=b.urlUtils.baseUrl(c.currentUrl.full)+"/apps/appBuilder/1/editor/Query?"+d.toQueryString(m),p={url:o,force:!0,destination:n,data:g,transformFunc:function(a,b){return a.success?(k(),f(a,b)):(l(),b)},error:l};return p}function h(b,c,d,f){return{getRequest:function(a,e,h){var i={filter:{_iid:{$in:b.itemIds}}};return g(c,i,b.forType,d,f,e,h)},getData:function(){var d=e.getDataByPath(c,"appbuilder",[b.forType]),f=a.intersection(b.itemIds,a.pluck(d,"_iid"));return a.map(f,function(a){return[b.forType,a]})}}}function i(a,g,h,i){return{getRequest:function(j,k,l){var m=c.wixappsUrlParser.getPageSubItemId(g,j),n={applicationInstanceId:h.instanceId,applicationInstanceVersion:i,itemId:m},o={consistentRead:"true"},p="viewer",q=e.getSiteDataDestination(h.type).concat(["items",a.forType]),r=b.urlUtils.baseUrl(g.currentUrl.full)+"/apps/appBuilder/1/"+p+"/ReadItem?"+d.toQueryString(o);return{url:r,force:!0,destination:q,data:n,transformFunc:function(a,b){return k(),f(a,b)},error:l}},getData:function(){var b=c.wixappsUrlParser.getPageSubItemId(g);return b?[a.forType,b]:[]}}}function j(b){var c={},d=b.sortField||"title",e=a.has(b,"sortAscending")?b.sortAscending:!0;return c[d]=e?1:0,c}function k(b,c,d,f){var h=a.clone(b);return{getRequest:function(b,e,i){var k=h.tagIds;if(0===k.length)return e(),null;var l={filter:{_tags:k.length>1?{$in:k}:a.first(k)},sort:j(h)};return g(c,l,h.forType,d,f,e,i)},getData:function(){var b=e.getDataByPath(c,"appbuilder",[h.forType]),d=a(b).filter(function(b){return a.intersection(b._tags,h.tagIds).length>0}).sortBy(h.sortField).map(function(a){return[a._type,a._iid]}).value();return h.sortAscending?d:a.reverse(d)},setTags:function(a,b){h.tagIds=a;var d=this.getRequest();if(d){var e=c.store;e.loadBatch([d],b)}else b()}}}function l(a,b,c,d){switch(a.logicalTypeName){case"IB.ManualSelectedList":return h(a,b,c,d);case"IB.PageSelectedItem":return i(a,b,c,d);case"IB.TagsFilteredList":return k(a,b,c,d);default:throw"Data selector of type: "+a.logicalTypeName+" is not implemented."}}var d=b.urlUtils,e=c.wixappsDataHandler;return{getDataSelector:l}}),define("wixappsBuilder/core/appRepo",["lodash","wixappsBuilder/core/dataSelectorFactory","wixappsCore"],function(a,b,c){"use strict";function d(a,c,d,f,g){var h=e(a,c);return h?b.getDataSelector(h,d,f,g):null}function e(a,b){var c=f(a,b);if(!c)return null;var d=c.dataSelector||c.dataSelectorDef&&c.dataSelectorDef.id;return a.dataSelectors[d]}function f(a,b){return a.parts&&a.parts[b]}function g(a,b,d,e){var f=[d,b,e].join("|"),g=[d,b].join("|"),h=a.views[f]||a.views[g];return h&&c.viewsUtils.fillViewDefMissingIDs(h),h}return{getDataSelector:d,getAppPartDefinition:f,getViewDef:g,getDataSelectorDefinition:e}}),define("wixappsBuilder/util/appbuilderUrlUtils",[],function(){"use strict";function a(a,c){var d="",e=c.serviceTopology.scriptsLocationMap;if(e&&e.wixapps&&(d=e.wixapps+"/"),a&&d){var f=a.match(/^(http:\/\/)?(images\/.*)/);if(f)return b(d,f[2])}return a}function b(a,b){return(a.length>0&&"/"===a[a.length-1]?a:a+"/")+(b.length>0&&"/"===b[0]?b.substr(1):b)}return{resolveResourcePath:a,combinePath:b}}),define("wixappsBuilder/logics/appPart2Presenter",["lodash","wixappsCore"],function(a,b){"use strict";function e(a){this.partApi=a}var c=b.localizer,d=b.wixappsLogger;return e.prototype={getViewVars:function(){if(!this.userTags){this.userTags={enabled:!1,items:[{value:"",text:""}],selectedValue:""};var b=this.partApi.getAppPartDefinition().dataSelectorDef;if(b){var d=this.partApi.getRepo(),e=d.dataSelectors[b.id];"IB.TagsFilteredList"===e.logicalTypeName&&b.predefinedSettings&&(this.userTags.items=a.map(b.predefinedSettings.tags,function(a){return{value:a,text:d.tags[a]}}),this.userTags.items.unshift({value:"all",text:c.localize("@FILTER_DIALOG_All_Tags@",this.partApi.getLocalizationBundle())}),this.userTags.selectedValue=b.predefinedSettings.selectedTag,this.userTags.enabled=!0)}}return{userTags:this.userTags}},onTagChanged:function(a){var b=this.partApi.getDataSelector(),c=this.partApi.getAppPartDefinition().dataSelectorDef,e="all"===a.payload.value?c.predefinedSettings.tags:[a.payload.value];this.partApi.setCssState("loading"),this.userTags.selectedValue=a.payload.value,b.setTags(e,function(){this.partApi.setCssState("content"),d.reportEvent(this.partApi.siteData,d.events.TAG_SELECTED_IN_VIEWER)}.bind(this))}},e}),define("wixappsBuilder/comps/appPart2",["lodash","core","wixappsCore","wixappsBuilder/core/appRepo","wixappsBuilder/util/appbuilderUrlUtils","wixappsBuilder/logics/appPart2Presenter"],function(a,b,c,d,e,f){"use strict";function h(a,b,c,d,e){a&&(b?g.reportError(c,d,e):g.reportEvent(c,d,e))}function i(){var a=this.getRepo(),b=d.getAppPartDefinition(a,this.props.compData.appPartName),c=this.props.siteData.getClientSpecMapEntry(this.props.compData.appInnerID),e=d.getDataSelector(a,this.props.compData.appPartName,this.props.siteData,c,a.applicationInstanceVersion);return b&&e?!0:(h(this.oneTimerIndicator,!0,this.props.siteData,g.errors.APP_PART2_FAILED_TO_LOAD),!1)}function j(){var a=this.props.compData,b=this.props.siteData.getClientSpecMapEntry(a.appInnerID),c=this.getDataAspect(),e=c.getDescriptor(this.getPackageName());return d.getDataSelector(this.getRepo(),a.appPartName,this.props.siteData,b,e.applicationInstanceVersion)}function k(){var a=this.props.compData,b=this.props.siteData.getClientSpecMapEntry(a.appInnerID),c=this.getDataAspect();return c.getMetadata(b.type,a.appPartName)}function l(){var a=k.call(this);if(a.loading)return{$displayMode:"loading"};if(a.error)return{$displayMode:"error"};var b={$displayMode:"content",itsDeadJim:!i.call(this)};return this.state&&this.state.$displayMode&&b.$displayMode!==this.state.$displayMode&&this.registerReLayout(),b}function m(){var b=d.getDataSelectorDefinition(this.getRepo(),this.props.compData.appPartName);if("IB.PageSelectedItem"===b.logicalTypeName){var c=this.getAppPartDefinition(),e=this.getDataByFullPath(this.getRootDataItemRef()),f=(e&&e.title||"")+" | "+c.displayName,g=this.props.siteData.getCurrentPageId(),h=this.props.siteData.getDataByQuery(g);h.title=a.unescape(f),h.descriptionSEO=f}}var g=c.wixappsLogger;return{displayName:"AppPart2",mixins:[c.viewsRenderer,b.compMixins.skinBasedComp],getInitialState:function(){var a=l.call(this);return"content"!==a.$displayMode||a.itsDeadJim||this.dataSelector||(this.dataSelector=j.call(this),m.call(this)),a},componentWillReceiveProps:function(){if(!this.state.itsDeadJim){var a=l.call(this);"content"===a.$displayMode&&(this.dataSelector=j.call(this),m.call(this)),this.registerReLayout(),this.setState(a)}},componentWillMount:function(){this.oneTimerIndicator=!0,this.logic=new f(this.getPartApi())},componentDidMount:function(){this.oneTimerIndicator=!1},getPartApi:function(){return{getAppPartDefinition:this.getAppPartDefinition,getRepo:this.getRepo,getPartData:this.getRootDataItemRef,getDataAspect:this.getDataAspect,getLocalizationBundle:this.getLocalizationBundle,getDataSelector:function(){return this.dataSelector}.bind(this),registerReLayout:this.registerReLayout,siteData:this.props.siteData,setCssState:this.setCssState}},setCssState:function(a){this.state.$displayMode!==a&&this.registerReLayout(),this.setState({$displayMode:a})},getViewDef:function(a,b,c){var e=this.getDataAspect(),f=e.getDescriptor(this.getPackageName());return d.getViewDef(f,a,b,c)},getLocalizationBundle:function(){return{FILTER_DIALOG_All_Tags:"All"}},getRepo:function(){var a=this.getDataAspect();return a.getDescriptor(this.getPackageName())},getAppPartDefinition:function(){return d.getAppPartDefinition(this.getRepo(),this.props.compData.appPartName)},getViewName:function(){return this.getAppPartDefinition().viewName},resolveResourcePath:e.resolveResourcePath,getRootDataItemRef:function(){return this.dataSelector&&this.dataSelector.getData()},getSkinProperties:function(){if(this.state.itsDeadJim)throw"AppPart data is not valid.";if("content"===this.state.$displayMode){var b=this.renderView(),c=a.clone(this.props.style||{});return c.height="auto",h(this.oneTimerIndicator,!1,this.props.siteData,g.events.APP_BUILDER_PART_LOADED,{appPartName:this.props.compData.appPartName,userId:this.props.siteData.rendererModel&&this.props.siteData.rendererModel.userId}),{"":{style:c,"data-dynamic-height":!0},inlineContent:{children:b,style:{height:"auto"}}}}return{}}}}),define("wixappsBuilder/util/fieldBoxProxyUtils",["wixappsCore","lodash"],function(a,b){"use strict";function e(a){return a?b.every(c,function(b){return!a[b]}):!0}function f(a,c){return b.some(c,function(c){return!b.contains(d,a("name",c))})}function g(a,c){var d=b.filter(c,function(c){var d=a("width-mode",c);return d?"manual"===d:!b.isUndefined(a("width",c))});return b.isEmpty(d)?200:b(d).map(function(b){var c=a("spacers",b);return a("width",b)+(c["xax-before"]||0)+(c["xax-after"]||0)}).max().value()}function h(a,b){return!a("hidden",b)}function i(a,c,d){var i=a("orientation",d),j="vertical"===i?"VBox":"HBox",k={comp:{name:j,items:b.filter(d.comp.items,h.bind(null,a))}},l=a("items",k);if("horizontal"===c&&"vertical"===i&&e(d.layout)&&f(a,l)){var m=g(a,l),n={comp:{css:{width:m}}};return b.has(d,"layout")&&b.has(d.layout,"min-width")&&(n.layout={"min-width":m}),b.merge(k,n)}return b.merge(k,{comp:{css:{width:"auto"}}})}var c=["width","box-flex","flex"],d=["VSpacer","HSpacer"];return{getFieldBoxDef:i}}),define("wixappsBuilder/proxies/fieldBoxProxy",["wixappsCore","lodash","wixappsBuilder/util/fieldBoxProxyUtils"],function(a,b,c){"use strict";return{mixins:[a.baseCompositeProxy],renderProxy:function(){var a=this.props.orientation,d=c.getFieldBoxDef(this.getCompProp,a,this.props.viewDef),e=b.cloneDeep(this.props.viewDef);return e.comp.items=d.comp.items,b.merge(e,d),this.renderChildProxy(e)}}}),define("wixappsBuilder/util/fieldProxyUtils",["wixappsCore","lodash"],function(a,b){"use strict";function c(a){return{css:{"box-align":a}}}function d(a){return"vertical"===a?"horizontal":"vertical"}function e(a){return a=a||{},{spacerBefore:a["xax-before"]||0,spacerAfter:a["xax-after"]||0}}function f(a){return a=a||{},{spacerBefore:a.before||0,spacerAfter:a.after||0}}function g(c,g,h){var i=f(g),j=a.spacersCalculator.translateStaticSpacers(i,c,h),k=e(g),l=a.spacersCalculator.translateStaticSpacersXax(k,d(c),h);return b.merge(j,l)}function h(a,b){return a?{comp:{name:"AppLink",pageId:a,items:[]}}:b&&"wix:LinkBase"!==b._type?{value:b,comp:{name:"Link",items:[]}}:void 0}return{getSpacers:g,getBoxAlignment:c,getLinkViewDef:h}}),define("wixappsBuilder/proxies/mixins/baseFieldProxy",["wixappsCore","lodash","react","utils","wixappsBuilder/util/fieldProxyUtils"],function(a,b,c,d,e){"use strict";function f(){var a=this.getCompProp("items")[0];if(a.link)return a.link;var b=this.getViewDefProp("data",a)||this.getViewDefProp("data");return this.getDataByPath("links."+b)}function g(){var a=this.proxyData,c=b.cloneDeep(this.props.viewDef),d=c.comp,g=this.getCompProp("items",c);if(!g||1!==g.length)throw"Field proxy accepts exactly one child";var h=this.props.orientation,i="vertical"===h;this.adjustViewDefs&&this.adjustViewDefs(c,g[0]),d.name=i?"VBox":"HBox",d.hidden=this.shouldHide(a);var j=this.getItemLayout();b.keys(j).length&&(g[0].layout=b.merge(g[0].layout||{},j));var k=e.getLinkViewDef(this.getCompProp("pageLink"),f.call(this));k&&(k.layout=b.cloneDeep(g[0].layout),k.comp.items.push(g.pop()),g.push(k));var l=e.getSpacers(h,this.getCompProp("spacers"),this.getVar("partDirection"));return c.layout=b.merge(c.layout||{},l),c}return{mixins:[a.baseCompositeProxy],getCustomStyle:function(){var a={};return this.getCompProp("box-align")&&(a["box-align"]=this.getCompProp("box-align")),a},renderProxy:function(){var a=g.call(this),b=this.getChildCompProps();if("horizontal"===this.props.orientation){var e={flex_display:!0,flex_vbox:!0};b.className&&(e[b.className]=!0),b.className=d.classNames(e)}return c.DOM.div(b,this.renderChildProxy(a))}}}),define("wixappsBuilder/proxies/fieldProxy",["wixappsBuilder/proxies/mixins/baseFieldProxy","lodash"],function(a,b){"use strict";var c={"wix:Image":function(a){return b.isEmpty(a.src)||"http://images/noimage.png"===a.src},String:function(a){return b.isEmpty(a)},"wix:Video":function(a){return b.isEmpty(a.videoId)||"YOUTUBE"===a.videoType&&"xLk7JoPDx4Q"===a.videoId}};return{mixins:[a],shouldHide:function(a){var d=b.isString(a)?"String":a._type,e=c[d];return e&&e(a)},getItemLayout:function(){var a=this.getCompProp("width")||100,b=this.getCompProp("height")||100,c=this.getCompProp("layout")&&this.getCompProp("layout")["min-width"]||0,d=this.getCompProp("heightMode")||"manual";return{minWidth:Math.max(c,a),height:"manual"===d?b:"auto"}}}}),define("wixappsBuilder/proxies/textFieldProxy",["wixappsBuilder/proxies/mixins/baseFieldProxy","lodash"],function(a,b){"use strict";function f(){var a=this.getCompProp("height-mode")||"auto",b=this.getCompProp("min-height")||100,c=this.getCompProp("height");return"auto"===a?{height:"auto"}:"max-chars"===a?{"min-height":b}:"fixed-height"===a?{"min-height":0,height:c||d,"overflow-y":"hidden"}:"pixels"===a?{height:c||d}:{}}function g(){var a="manual"===this.getCompProp("width-mode"),b=this.getCompProp("width"),d=this.props.orientation;return a?{width:b||c}:"vertical"===d?{width:"100%"}:{"box-flex":"1 1 auto"}}function h(a){var c=this.getCompProp("height-mode")||"auto",d=this.getCompProp("min-lines")||0,e=this.getCompProp("max-lines")||0;e>0&&d>e&&(e=d);var f=this.getCompProp("max-chars")||100;a.comp.name="wix:Date"===this.proxyData._type?"Date":"Label","auto"===c?a.comp.singleLine=!1:"lines"===c?0===d&&1===e&&b.isString(this.proxyData)?a.comp.singleLine=!0:e>0&&(a.comp.name="ClippedParagraph",a.comp.minLines=d,a.comp.maxLines=e):"max-chars"===c?(a.comp.name="ClippedParagraph2",a.comp["max-chars"]=f):"pixels"===c&&(a.comp.name="ClippedParagraph",a.comp.minLines=0,a.comp.maxLines=0)}function i(a){var b=this.props.orientation;"horizontal"===b&&(a.layout=a.layout||{},a.layout["max-width"]=this.getCompProp("width")||c)}var c=150,d=150,e={"wix:RichText":function(a){return!a.text},String:function(a){return!a},"wix:Date":function(a){return!a.iso}};return{mixins:[a],shouldHide:function(a){var c=b.isString(a)?"String":a._type,d=e[c];return d&&d(a)&&0===(this.getCompProp("min-lines")||0)},adjustViewDefs:function(a,b){i.call(this,a),h.call(this,b)},getItemLayout:function(){return b.merge(g.call(this),f.call(this))}}}),define("wixappsBuilder/util/viewsTemplatesData",[],function(){"use strict";return{"default":{type:{version:0,baseTypes:[],name:"NewsPosts_i6cku5qm357",displayName:"Various Posts",fields:[{displayName:"Title",name:"title",defaultValue:"I'm a news headline",searchable:!1,type:"String",computed:!1}]},views:[{name:"PaginatedListTemplate3",forType:"Array",vars:{itemSpacing:10,paginationColor:"color_15"},comp:{name:"VBox","box-align":"center",items:[{comp:{name:"HBox",hidden:{$expr:"not($userTags.enabled)"},items:[{data:"$userTags",comp:{name:"ComboBox",cssClass:"comboBox",skin:"wysiwyg.viewer.skins.input.ComboBoxInputSimpleSkin",events:{selectionChanged:"onTagChanged"}},layout:{width:165,"vertical-align":"middle",spacerBefore:"*"}}]},layout:{width:"100%",spacerBefore:"20px",spacerAfter:"30px"}},{id:"paginatedlist",comp:{name:"PaginatedList",hidden:{$expr:"eq(Array.length(this), 0)"},hidePagination:"true",itemsPerPage:"10",templates:{item:{data:"$positionInParent",comp:{name:"SwitchBox",cases:{"default":[{id:"listItem",comp:{name:"LIST_ITEM"}},{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}],last:[{id:"listItem",comp:{name:"LIST_ITEM"}},{comp:{name:"VBox",hidden:"true",items:[{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}]}},{comp:{name:"VSpacer",size:"9"}},{id:"paginationNavigationBox",comp:{name:"HBox",hidden:{$expr:"$hidePagination"},"box-align":"center",items:[{comp:{name:"HSpacer",size:"*"}},{value:"◄",comp:{name:"Label",cssClass:"paginationPrev",events:{"dom:click":"prevPageClicked"}},layout:{spacerAfter:4}},{value:{$expr:"String.concat($currentPage,'/',$maxPage)"},comp:{name:"Label"},layout:{spacerAfter:4}},{value:"►",comp:{name:"Label",cssClass:"paginationNext",events:{"dom:click":"nextPageClicked"}}},{comp:{name:"HSpacer",size:"*"}}]},layout:{position:"relative"}}]},css:{"min-width":"100%"}}}}},layout:{width:"100%"}},{id:"noItemsLabel",value:"@LIST_SETTINGS_PANEL_NoItemsMessagePlaceholder@",comp:{name:"Label",hidden:{$expr:"gt(String.length(this), 0)"}}}],editorData:{isPaginated:!0,hasTags:!0}},stylesheet:[{".paginationPrev, .paginationNext":{padding:"0 5px",display:"inline-block","font-size":"14px",cursor:"pointer",color:{$expr:"Theme.getColor($paginationColor)"},"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}},{".comboBox select":{"font-size":"14px"}}],customizations:[{priority:105,fieldId:"paginatedlist",key:"comp.hidePagination",input:{name:"checkbox",falseVal:"true",label:"@LIST_SETTINGS_PANEL_UsePagination@",defaultVal:"true",trueVal:"false",spaceAfter:"10"}},{priority:105,fieldId:"paginatedlist",key:"comp.itemsPerPage",input:{name:"slider",maxVal:"120",minVal:"1",label:"@LIST_SETTINGS_PANEL_ItemsPerPage@",spaceAfter:"20",hiddenwhen:{fieldId:"paginatedlist",key:"comp.hidePagination",value:"true"}}},{priority:100,fieldId:"vars",key:"itemSpacing",input:{name:"slider",maxVal:"300",minVal:"0",label:"@LIST_SETTINGS_PANEL_ItemSpacing@",spaceAfter:"20"}},{priority:95,fieldId:"gutterLine",key:"comp.hidden",input:{name:"checkbox",falseVal:"true",label:"@LIST_SETTINGS_PANEL_ShowDivider@",defaultVal:"false",trueVal:"false"}},{priority:90,fieldId:"gutterLine",key:"comp.style",input:{name:"changestyle",showAs:"link",label:"@LIST_SETTINGS_PANEL_ChangeStyle@",spaceAfter:"20"}}]},{name:"BlankList",forType:"BlankType",comp:{name:"VBox",items:[{id:"Top",comp:{name:"FieldBox",orientation:"horizontal",editorData:{labelPosition:"none",alignment:"left"}}},{id:"topSpacer",comp:{name:"VSpacer",size:"0"}},{comp:{name:"HBox",items:[{id:"Left",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",alignment:"left",spacers:{before:3,after:0,"xax-before":0,"xax-after":0}}},layout:{spacerAfter:0}},{id:"leftToCenterSpacer",comp:{name:"HSpacer",size:"0"}},{id:"Center",comp:{name:"FieldBox",orientation:"vertical",pack:"center",items:[{id:"text_1",data:"title",comp:{name:"TextField","box-align":"center",width:"200","width-mode":"auto",items:[{id:"text_1_proxy",data:"title",comp:{name:"Label",style:"Body L",bold:"true"},layout:{"text-align":"center"}}],spacers:{before:0,after:10}}}],editorData:{labelPosition:"none",alignment:"left"}},layout:{"box-flex":1}},{id:"centerToRightSpacer",comp:{name:"HSpacer",size:"0"}},{id:"Right",comp:{name:"FieldBox",orientation:"vertical",pack:"center",editorData:{labelPosition:"none",alignment:"left",spacers:{before:0,after:0,"xax-before":10,"xax-after":0}}}}]}},{id:"Bottom",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",alignment:"left"}},layout:{"box-flex-pack":"start"}},{id:"bottomSpacer",comp:{name:"VSpacer",size:"0"}}]}}]},"2.0":{type:{version:0,baseTypes:[],name:"NewsPosts_i6cku5qm357",displayName:"Various Posts",fields:[{displayName:"Title",name:"title",defaultValue:"I'm a news headline",searchable:!1,type:"String",computed:!1},{type:"wix:Image",displayName:"Image",searchable:!1,name:"image",defaultValue:{width:600,src:"images/items/bloom.jpg",height:600,_type:"wix:Image",title:"Default image"},computed:!1},{name:"Strng_sTxt1",searchable:!1,displayName:"Subtitle",type:"String",computed:!1,defaultValue:"Add Date here"},{displayName:"Description",type:"wix:RichText",searchable:!1,defaultValue:{version:1,_type:"wix:RichText",text:"Add News Story here",links:[]},name:"wxRchTxt_sTxt0",computed:!1},{name:"links",type:"wix:Map",searchable:!1,displayName:"",defaultValue:{_type:"wix:Map"},computed:!1},{name:"Strng_sBttn0-v1c",defaultValue:"Read More",searchable:!1,metadata:{showAsHint:"AsButton"},type:"String",displayName:"Button",computed:!1},{defaultValue:{_type:"wix:Video",videoId:"83nu4yXFcYU",videoType:"YOUTUBE"},name:"i6ckxtsf",type:"wix:Video",searchable:!1,displayName:"Video",computed:!1}]},views:[{name:"TemplateViewVersion_2.0",forType:"Array",vars:{itemSpacing:60,paginationColor:"color_15"},comp:{name:"VBox",items:[{id:"paginatedlist",comp:{name:"PaginatedList",hidden:{$expr:"eq(Array.length(this), 0)"},hidePagination:"true",itemsPerPage:"10",templates:{item:{data:"$positionInParent",comp:{name:"SwitchBox",cases:{"default":[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}],last:[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{comp:{name:"VBox",hidden:"true",items:[{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}]},id:"def_7"},{comp:{name:"VSpacer",size:"9"},id:"def_10"},{id:"paginationNavigationBox",comp:{name:"HBox",hidden:{$expr:"$hidePagination"},"box-align":"center",items:[{comp:{name:"HSpacer",size:"*"},id:"def_12"},{value:"◄",comp:{name:"Label",cssClass:"paginationPrev",events:{"dom:click":"prevPageClicked"}},layout:{spacerAfter:4},id:"def_13"},{value:{$expr:"String.concat($currentPage,'/',$maxPage)"},comp:{name:"Label"},layout:{spacerAfter:4},id:"def_14"},{value:"►",comp:{name:"Label",cssClass:"paginationNext",events:{"dom:click":"nextPageClicked"}},id:"def_15"},{comp:{name:"HSpacer",size:"*"},id:"def_16"}]},layout:{position:"relative"}}]},css:{"min-width":"100%"}},id:"$positionInParent"}}}},{id:"noItemsLabel",value:"There are no items in this list",comp:{name:"Label",hidden:{$expr:"gt(String.length(this), 0)"}}}],editorData:{isPaginated:!0}},stylesheet:[{".paginationPrev, .paginationNext":{padding:"0 5px",display:"inline-block","font-size":"14px",cursor:"pointer","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}}],customizations:[{priority:105,fieldId:"paginatedlist",key:"comp.hidePagination",input:{name:"checkbox",falseVal:"true",label:"Split your list across multiple pages",defaultVal:"true",trueVal:"false",spaceAfter:"10"}},{priority:105,fieldId:"paginatedlist",key:"comp.itemsPerPage",input:{name:"slider",maxVal:"120",minVal:"1",label:"Items Per Page",spaceAfter:"20",hiddenwhen:{fieldId:"paginatedlist",key:"comp.hidePagination",value:"true"}}},{priority:100,fieldId:"vars",key:"itemSpacing",input:{name:"slider",maxVal:"300",minVal:"0",label:"Item Spacing",spaceAfter:"20"}},{priority:95,fieldId:"gutterLine",key:"comp.hidden",input:{name:"checkbox",falseVal:"true",label:"Show item separator",defaultVal:"false",trueVal:"false"}},{priority:90,fieldId:"gutterLine",key:"comp.style",input:{name:"changestyle",showAs:"link",label:"Change Item Separator Style",spaceAfter:"20"}}],id:"i7ek4nzf"},{name:"TemplateViewVersion_2.0",forType:"Array",vars:{itemSpacing:60,paginationColor:"color_15"},comp:{name:"VBox",items:[{id:"paginatedlist",comp:{name:"PaginatedList",hidden:{$expr:"eq(Array.length(this), 0)"},hidePagination:"true",itemsPerPage:"10",templates:{item:{data:"$positionInParent",comp:{name:"SwitchBox",cases:{"default":[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}],last:[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{comp:{name:"VBox",hidden:"true",items:[{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}]},id:"def_7"},{comp:{name:"VSpacer",size:"9"},id:"def_10"},{id:"paginationNavigationBox",comp:{name:"HBox",hidden:{$expr:"$hidePagination"},"box-align":"center",items:[{comp:{name:"HSpacer",size:"*"},id:"def_12"},{value:"◄",comp:{name:"Label",cssClass:"paginationPrev",events:{"dom:click":"prevPageClicked"}},layout:{spacerAfter:4},id:"def_13"},{value:{$expr:"String.concat($currentPage,'/',$maxPage)"},comp:{name:"Label"},layout:{spacerAfter:4},id:"def_14"},{value:"►",comp:{name:"Label",cssClass:"paginationNext",events:{"dom:click":"nextPageClicked"}},id:"def_15"},{comp:{name:"HSpacer",size:"*"},id:"def_16"}]},layout:{position:"relative"}}]},css:{"min-width":"100%"}},id:"$positionInParent"}}}},{id:"noItemsLabel",value:"There are no items in this list",comp:{name:"Label",hidden:{$expr:"gt(String.length(this), 0)"}}}],editorData:{isPaginated:!0}},stylesheet:[{".paginationPrev, .paginationNext":{padding:"0 5px",display:"inline-block","font-size":"14px",cursor:"pointer","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}}],customizations:[{priority:105,fieldId:"paginatedlist",key:"comp.hidePagination",input:{name:"checkbox",falseVal:"true",label:"Split your list across multiple pages",defaultVal:"true",trueVal:"false",spaceAfter:"10"}},{priority:105,fieldId:"paginatedlist",key:"comp.itemsPerPage",input:{name:"slider",maxVal:"120",minVal:"1",label:"Items Per Page",spaceAfter:"20",hiddenwhen:{fieldId:"paginatedlist",key:"comp.hidePagination",value:"true"}}},{priority:100,fieldId:"vars",key:"itemSpacing",input:{name:"slider",maxVal:"300",minVal:"0",label:"Item Spacing",spaceAfter:"20"}},{priority:95,fieldId:"gutterLine",key:"comp.hidden",input:{name:"checkbox",falseVal:"true",label:"Show item separator",defaultVal:"false",trueVal:"false"}},{priority:90,fieldId:"gutterLine",key:"comp.style",input:{name:"changestyle",showAs:"link",label:"Change Item Separator Style",spaceAfter:"20"}}],id:"i7ek4nzf",format:"Mobile"},{name:"TemplateViewVersion_2.0",forType:"NewsPosts_i6cku5qm357",comp:{name:"VBox",items:[{id:"Top",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Top section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":3}},items:[]},layout:{"min-width":0}},{id:"topSpacer",comp:{name:"VSpacer",size:"0"}},{comp:{name:"HBox",items:[{id:"Left",comp:{name:"FieldBox",orientation:"horizontal",items:[{id:"fld_i70imvqs465",data:"i6ckxtsf",comp:{name:"Field",width:330,height:227,items:[{id:"fld_i70imvqs465_proxy",data:"i6ckxtsf",comp:{name:"Video"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:0,after:30,"xax-before":0,"xax-after":0},"box-align":"left"}},{id:"fld_i6m58mzj129",data:"image",comp:{name:"Field",width:330,height:227,items:[{id:"fld_i6m58mzj129_proxy",data:"image",comp:{name:"Image",style:"wp2"}}],hidden:!1,labelPosition:"none",spacers:{before:0,after:30,"xax-before":0,"xax-after":0},"box-align":"left"}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Left section",spacers:{before:0,after:3,"xax-before":0,"xax-after":20}},pack:"start"},layout:{spacerAfter:0,"min-width":0}},{id:"leftToCenterSpacer",comp:{name:"HSpacer",size:"0"}},{id:"Center",comp:{name:"FieldBox",orientation:"vertical",items:[{id:"text_1",data:"title",comp:{name:"TextField","box-align":"start",width:"200","width-mode":"auto","min-lines":0,"max-lines":0,items:[{id:"text_1_proxy",data:"title",comp:{name:"Label",style:"Heading S",bold:!1,italic:!1,underline:!1},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0},"height-mode":"auto"}},{id:"fld_hfnxgxqo",data:"Strng_sTxt1",comp:{name:"TextField",width:"200","width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfnxgxqo_proxy",data:"Strng_sTxt1",comp:{name:"Label",style:"Body S",bold:!1,italic:!0},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0,"xax-after":0},labelPosition:"none",hidden:!1}},{id:"fld_hfxs75de",data:"wxRchTxt_sTxt0",comp:{name:"TextField",width:"200","width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfxs75de_proxy",data:"wxRchTxt_sTxt0",comp:{name:"Label"},layout:{"text-align":"left"}}],spacers:{before:10,after:0,"xax-before":0,"xax-after":0},hidden:!1,labelPosition:"none"}},{id:"fld_i70if2w4348",data:"Strng_sBttn0-v1c",comp:{name:"Field",width:160,height:"40",items:[{id:"fld_i70if2w4348_proxy",data:"Strng_sBttn0-v1c",comp:{name:"Button2",style:"b1",align:"center"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:20,after:0,"xax-before":0,"xax-after":0},"box-align":"left"}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Center section",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},pack:"start"},layout:{"box-flex":1,"min-width":0}},{id:"centerToRightSpacer",comp:{name:"HSpacer",size:"3"}},{id:"Right",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Right section",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[]},layout:{"min-width":0}}]},id:"def_3"},{id:"Bottom",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Bottom section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":3}},items:[],pack:"start"},layout:{"box-flex-pack":"start","min-width":0}},{id:"bottomSpacer",comp:{name:"VSpacer",size:"0"}}]},id:"def_0",editorData:{wasChanged:!0}},{name:"TemplateViewVersion_2.0",forType:"NewsPosts_i6cku5qm357",comp:{name:"VBox",items:[{id:"Top",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Top section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},items:[]},layout:{"min-width":0}},{id:"topSpacer",comp:{name:"VSpacer",size:0}},{comp:{name:"VBox",items:[{id:"def_3_0",comp:{name:"HBox",orientation:"horizontal",editorData:{labelPosition:"none",displayName:"def_3_0",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"Left",comp:{name:"VBox",orientation:"vertical",items:[{id:"Left_0",comp:{name:"FieldBox",items:[{id:"fld_i70imvqs465",data:"i6ckxtsf",comp:{name:"Field",width:280,height:220,items:[{id:"fld_i70imvqs465_proxy",data:"i6ckxtsf",comp:{name:"Video"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:0,after:0,"xax-before":0,"xax-after":10},"box-align":"left"}}],orientation:"horizontal",editorData:{labelPosition:"none",displayName:"Left_0",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}}},layout:{"min-width":0}},{id:"Left_1",comp:{name:"FieldBox",orientation:"horizontal",editorData:{labelPosition:"none",displayName:"Left_1",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"fld_i6m58mzj129",data:"image",comp:{name:"Field",width:280,height:227,items:[{id:"fld_i6m58mzj129_proxy",data:"image",comp:{name:"Image",style:"wp2"}}],hidden:!1,labelPosition:"none",spacers:{before:0,after:0,"xax-before":0,"xax-after":10},"box-align":"left"}}]},layout:{"min-width":0}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Left section",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},pack:"start"},layout:{spacerAfter:0,"min-width":0}}]},layout:{"min-width":0}},{id:"def_3_1",comp:{name:"HBox",orientation:"horizontal",editorData:{
labelPosition:"none",displayName:"def_3_1",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"leftToCenterSpacer",comp:{name:"HSpacer",size:0}},{id:"Center",comp:{name:"FieldBox",orientation:"vertical",items:[{id:"text_1",data:"title",comp:{name:"TextField","box-align":"start",width:86,"width-mode":"auto","min-lines":0,"max-lines":0,items:[{id:"text_1_proxy",data:"title",comp:{name:"Label",style:"Heading S",bold:!1,italic:!1,underline:!1},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0},"height-mode":"auto"}},{id:"fld_hfnxgxqo",data:"Strng_sTxt1",comp:{name:"TextField",width:86,"width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfnxgxqo_proxy",data:"Strng_sTxt1",comp:{name:"Label",style:"Body S",bold:!1,italic:!0},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0,"xax-after":0},labelPosition:"none",hidden:!1}},{id:"fld_hfxs75de",data:"wxRchTxt_sTxt0",comp:{name:"TextField",width:86,"width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfxs75de_proxy",data:"wxRchTxt_sTxt0",comp:{name:"Label"},layout:{"text-align":"left"}}],spacers:{before:10,after:0,"xax-before":0,"xax-after":0},hidden:!1,labelPosition:"none"}},{id:"fld_i70if2w4348",data:"Strng_sBttn0-v1c",comp:{name:"Field",width:280,height:44,items:[{id:"fld_i70if2w4348_proxy",data:"Strng_sBttn0-v1c",comp:{name:"Button2",style:"b1",align:"center"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:20,after:0,"xax-before":0,"xax-after":0},"box-align":"left"}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Center section",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},pack:"start"},layout:{"box-flex":1,"min-width":0}}]},layout:{"min-width":0}},{id:"def_3_2",comp:{name:"HBox",orientation:"horizontal",editorData:{labelPosition:"none",displayName:"def_3_2",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"centerToRightSpacer",comp:{name:"HSpacer",size:3}},{id:"Right",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Right section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},items:[]},layout:{"min-width":0}}]},layout:{"min-width":0}}],orientation:"vertical"},id:"def_3"},{id:"Bottom",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Bottom section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},items:[],pack:"start"},layout:{"box-flex-pack":"start","min-width":0}},{id:"bottomSpacer",comp:{name:"VSpacer",size:0}}]},id:"def_0",editorData:{wasChanged:!0,originalWidth:601},format:"Mobile"}],displayName:"News Posts (wide)"}}}),define("wixappsBuilder/util/viewsTemplatesUtils",["lodash","utils"],function(a,b){"use strict";function d(b,c){return a.isObject(c)?(a.forEach(c,function(a){d(b,a)}),void(a.has(c,"data")&&b[c.data]&&(c.data=b[c.data]))):c}function e(a,b){var c=a.metadata&&a.metadata.showAsHint,d=b.metadata&&b.metadata.showAsHint;return a.type===b.type&&c===d}function f(b,c){var d=["title","links"],f=a.object(d,d);return b=a.reject(b,function(b){return a.contains(d,b.name)}),c=a.reject(c,function(b){return a.contains(d,b.name)}),a.forEach(b,function(b){var d=a.findIndex(c,e.bind(this,b));-1!==d?(f[b.name]=c[d].name,c.splice(d,1)):f[b.name]=null}),f}function g(b,e,g){if(0===b.length)throw new Error(c);var h=f(e.fields,g.fields);return a.map(b,function(b){var c=a.cloneDeep(b);return d(h,c),c})}function h(b,c){var d=a.filter(b.views,function(a){return"Array"===c.forType?"Array"===a.forType:"Array"!==a.forType});return a.find(d,{format:c.format})||a.first(d)}function i(c,d,e){var i,f=h(c,d);if("Array"===d.forType){i=a.cloneDeep(f);var j=b.objectUtils.filter(i,function(a){return"listItem"===a.id});a.each(j,function(a){a.comp.name=d.name})}else i=g([f],c.type,e)[0];return a.assign(i,d)}var c="The template is missing an item view";return{getMatchingViewsForType:g,generateView:i}}),define("wixappsBuilder/core/appPart2DataFetchingStateManager",["wixappsCore"],function(a){"use strict";function c(a,c){b.setPackageMetadata({loading:!0},a,c.type)}function d(a,c){b.setPackageMetadata({loading:!1},a,c.type)}function e(a,c){d(a,c),b.setPackageMetadata({error:!0},a,c.type)}function f(a,c,d){b.setCompMetadata({loading:!0},a,c.type,d)}function g(a,c,d){b.setCompMetadata({loading:!1},a,c.type,d)}function h(a,c,d){g(a,c,d),b.setCompMetadata({error:!0},a,c.type,d)}function i(a,c,d){var e=b.getCompMetadata(a,c.type,d);return e.loading===!1&&!e.error}function j(a,c){var d=b.getPackageMetadata(a,c.type);return d.loading===!1&&!d.error}function k(a,c,d){var e=b.getCompMetadata(a,c.type,d);return!!e.error}function l(a,c){var d=b.getPackageMetadata(a,c.type);return!!d.error}var b=a.wixappsDataHandler;return{clearPackageLoadingState:d,setPackageAsErroneous:e,clearPartLoadingState:g,setPartAsErroneous:h,setPartLoadingState:f,setPackageLoadingState:c,hasPartLoadedSuccessfully:i,hasPackageLoadedSuccessfully:j,isPartErroneous:k,isPackageErroneous:l}}),define("wixappsBuilder/core/builderDataHandler",["lodash","utils","wixappsCore","wixappsBuilder/util/viewsTemplatesData","wixappsBuilder/util/viewsTemplatesUtils","wixappsBuilder/core/appRepo","wixappsBuilder/core/appPart2DataFetchingStateManager"],function(a,b,c,d,e,f,g){"use strict";function l(b){return b.views=a.transform(b.views,function(b,c){var d=a.compact([c.forType,c.name,c.format]).join("|");b[d]=c},{}),b.dataSelectors=a.transform(b.dataSelectors,function(a,b){a[b.id]=b},{}),b.types=a.transform(b.types,function(a,b){a[b.name]=b},{}),b.offsetFromServerTime=new Date-new Date(b.serverTime),b}function m(b,d){if("Array"===b.forType){var e;c.viewsUtils.traverseViews(b,function(b){return b.comp&&"PaginatedList"===b.comp.name?(e=a.pick(b.comp,["hidePagination","itemsPerPage"]),!1):void 0}),e&&c.viewsUtils.traverseViews(d,function(b){return b.comp&&"PaginatedList"===b.comp.name?(a.assign(b.comp,e),!1):void 0})}}function n(b,c){a.each(c.parts,function(f){var g=f.dataSelector||f.dataSelectorDef&&f.dataSelectorDef.id;c.dataSelectors[g]||k.reportEvent(b,k.events.APP_PART2_FAILED_TO_LOAD_DATA_SELECTOR,{dataSelector:f.dataSelector});var h=[{forType:"Array",name:f.viewName},{forType:"Array",name:f.viewName,format:"Mobile"},{forType:f.type,name:f.viewName},{forType:f.type,name:f.viewName,format:"Mobile"}];a.each(h,function(b){var g=a.compact([b.forType,b.name,b.format]).join("|");if(!c.views[g]){var h=c.types[f.type],i=e.generateView(d[f.version||"default"],b,h),j=c.views[b.forType+"|"+b.name];j&&m(j,i),c.views[g]=i}})}),a.each(c.dataSelectors,function(c){if(c.itemIds&&c.itemIds.length){var d=a.compact(c.itemIds);d.length!==c.itemIds.length&&(k.reportError(b,k.errors.DATA_SELECTOR_CONTAINS_NULL),c.itemsIds=d)}c.hiddenItemIds&&c.hiddenItemIds.length&&(c.itemIds=a.difference(c.itemIds,c.hiddenItemIds))}),a.each(c.views,function(b){var c=i.filter(b,function(b){return a.isPlainObject(b)&&a.has(b,"color")&&a.has(b.color,"$expr")&&/Theme\.getColor\([^)]*/.test(b.color.$expr)});a.each(c,function(a){delete a.color})})}function o(a){return a=a||{},a.views=a.views||{},a.types=a.types||{},a.dataSelectors=a.dataSelectors||{},a.parts=a.parts||{},a}function p(b,c,d){if(!c.success)return{};var e=c.payload;return!e.repo&&e.blob&&(e.repo=JSON.parse(e.blob)),e.repo=o(e.repo),e.repo=l(e.repo),a.each(e.repo,function(b,c){i.ensurePath(d,["descriptor",c]),a.each(b,function(a,b){i.setInPath(d,["descriptor",c,b],a)})}),i.ensurePath(d,["descriptor","types"]),a.each(e.types,function(a){i.setInPath(d,["descriptor","types",a.name],a),i.ensurePath(d,["items",a.name])}),i.ensurePath(d,["descriptor","tags"]),a.each(e.tags,function(a,b){i.setInPath(d,["descriptor","tags",b],a)}),i.setInPath(d,["descriptor","applicationInstanceVersion"],e.version),a.each(e.items,function(a){i.setInPath(d,["items",a._type,a._iid],a)}),n(b,d.descriptor),d}function q(c,d,e,f){var i=j.getSiteDataDestination(d.type);a.each(e,g.setPartLoadingState.bind(null,c,d));var k={url:b.urlUtils.baseUrl(c.currentUrl.full)+"/apps/appBuilder/1/viewer/GetAppPartData",force:!0,destination:i,data:{applicationInstanceId:d.instanceId,appPartIds:e,itemIds:a.compact([f.pageAdditionalData])},transformFunc:function(b,f){return a.each(e,g.clearPartLoadingState.bind(null,c,d)),p(c,b,f)},error:function(){a.each(e,g.setPartAsErroneous.bind(null,c,d))},timeout:h};return[k]}function r(a,c){g.setPackageLoadingState(a,c);var d=b.urlUtils.baseUrl(a.currentUrl.full)+"/apps/appBuilder/saved/"+c.instanceId,e=j.getSiteDataDestination(c.type).concat(["descriptor"]);return{url:d,force:!0,destination:e,transformFunc:function(b){if(!b.success)return g.setPackageAsErroneous(a,c),o();g.clearPackageLoadingState(a,c);var d=l(b.payload);return n(a,d),d},error:g.setPackageAsErroneous.bind(null,a,c)}}function s(a,b,c,d){var e=g.setPartAsErroneous.bind(null,a,b,c);if(g.isPackageErroneous(a,b))return e(),null;var h=j.getDescriptor(a,b.type),i=f.getDataSelector(h,c,a,b,h.applicationInstanceVersion);return i?(g.setPartLoadingState(a,b,c),i.getRequest(d,g.clearPartLoadingState.bind(null,a,b,c),e)):null}var h=150,i=b.objectUtils,j=c.wixappsDataHandler,k=c.wixappsLogger;return{transformAppRepo:l,transformBundledPartsData:p,ensureRepoFields:o,validateAppRepoAndFix:n,getBundledPartsDataRequest:q,getApplicationRepoRequest:r,getAppPartDataRequest:s}}),define("wixappsBuilder/util/fontUtils",["lodash","fonts","wixappsCore","wixappsBuilder/core/appRepo","wixappsBuilder/core/appPart2DataFetchingStateManager"],function(a,b,c,d,e){"use strict";function f(b){var d=[];return a.forEach(b,function(a){c.viewsUtils.traverseViews(a,function(a){a.comp.fontFamily&&d.push(a.comp.fontFamily)})}),d}b.fontUtils.registerCustomTextDataGetter("AppBuilderComponent",function(b,f){var g=b.getClientSpecMapEntry(f.appInnerID);if(!g)return null;if(!e.hasPartLoadedSuccessfully(b,g,f.appPartName))return null;var h="appbuilder",i=c.wixappsDataHandler.getDescriptor(b,h),j=i&&d.getDataSelector(i,f.appPartName,b,g,i.applicationInstanceVersion);if(!j)return null;var k=j.getData();if(!k||0===k.length)return null;var l=c.wixappsDataHandler.getDataByPath(b,h,k),m=a.compact(a.flatten([l])),n=[];return a.each(m,function(b){a.each(b,function(b){var d=c.typeNameResolver.getDataItemTypeName(b);a.contains(["wix:MediaRichText","wix:RichText"],d)&&n.push(b.text)})}),n}),b.fontUtils.registerCustomFontFamiliesGetter("AppBuilderComponent",function(b){var d=[],e=c.wixappsDataHandler.getDescriptor(b,"appbuilder");return e&&!a.isEmpty(e.views)&&(d=d.concat(f(e.views))),d})}),define("wixappsBuilder/core/appPart2DataRequirementsChecker",["lodash","core","wixappsCore","wixappsBuilder/core/builderDataHandler"],function(a,b,c,d){"use strict";var e=b.dataRequirementsChecker,f=c.wixappsDataHandler;e.registerCheckerForAllCompsOfType("wixapps.integration.components.AppPart2",function(b,c,e){if(!b.isViewerMode())return[];var g=c[0].data.appInnerID,h=b.getClientSpecMapEntry(g),i=a.map(c,function(a){return a.data.appPartName}),j=f.getPackageMetadata(b,h.type);j.requestedPartNames=j.requestedPartNames||[];var k=a.difference(i,j.requestedPartNames);return j.requestedPartNames=a.union(j.requestedPartNames,i),f.setPackageMetadata(j,b,h.type),k.length?d.getBundledPartsDataRequest(b,h,k,e):[]})}),define("wixappsBuilder/core/appPart2PreviewDataRequirementsChecker",["lodash","core","wixappsCore","wixappsBuilder/core/builderDataHandler","wixappsBuilder/core/appPart2DataFetchingStateManager"],function(a,b,c,d,e){"use strict";var f=b.dataRequirementsChecker,g=c.wixappsDataHandler;f.registerCheckerForAppDefId("3d590cbc-4907-4cc4-b0b1-ddf2c5edf297",function(a,b){if(a.isViewerMode())return[];var c=g.getPackageMetadata(a,b.type);return c.wasRepoRequested?[]:(g.setPackageMetadata({wasRepoRequested:!0,requestedPartNames:[]},a,b.type),d.getApplicationRepoRequest(a,b))}),f.registerCheckerForCompType("wixapps.integration.components.AppPart2",function(b,c,f){if(b.isViewerMode())return[];var h=c.data.appInnerID,i=b.getClientSpecMapEntry(h),j=c.data.appPartName,k=g.getDescriptor(b,i.type);if(!k&&!e.isPackageErroneous(b,i))return e.setPartLoadingState(b,i,j),[];var l=g.getPackageMetadata(b,i.type);return l.requestedPartNames=l.requestedPartNames||[],a.contains(l.requestedPartNames,j)?[]:(l.requestedPartNames.push(j),g.setPackageMetadata(l,b,i.type),d.getAppPartDataRequest(b,i,j,f)||[])})}),define("wixappsBuilder/core/appPart2StyleCollector",["lodash","core","wixappsCore","wixappsBuilder/core/appRepo","wixappsBuilder/core/appPart2DataFetchingStateManager"],function(a,b,c,d,e){"use strict";var f=c.wixappsDataHandler;b.styleCollector.registerClassBasedStyleCollector("wixapps.integration.components.AppPart2",function(b,g,h,i,j){var k=h.getDataByQuery(b.dataQuery,j),l=h.getClientSpecMapEntry(k.appInnerID);if(e.hasPartLoadedSuccessfully(h,l,k.appPartName)){var m=f.getDescriptor(h,l.type),n=d.getAppPartDefinition(m,k.appPartName);if(n){var o=n.viewName,p=a.filter(m.views,{name:o});a.each(p,function(a){c.styleCollector.collectViewStyles(a,g,i)}),c.styleCollector.addDefaultStyles(g,i)}}})}),define("wixappsBuilder",["core","wixappsCore","wixappsBuilder/comps/appPart2","wixappsBuilder/proxies/fieldBoxProxy","wixappsBuilder/proxies/fieldProxy","wixappsBuilder/proxies/textFieldProxy","wixappsBuilder/core/appRepo","wixappsBuilder/core/builderDataHandler","wixappsBuilder/core/appPart2DataFetchingStateManager","wixappsBuilder/util/viewsTemplatesUtils","wixappsBuilder/util/fieldBoxProxyUtils","wixappsBuilder/util/fontUtils","wixappsBuilder/core/appPart2DataRequirementsChecker","wixappsBuilder/core/appPart2PreviewDataRequirementsChecker","wixappsBuilder/core/appPart2StyleCollector"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";return a.compFactory.register("wixapps.integration.components.AppPart2",c),b.proxyFactory.register("FieldBox",d),b.proxyFactory.register("Field",e),b.proxyFactory.register("TextField",f),{appRepo:g,builderDataHandler:h,dataFetchingStateManager:i,viewsTemplatesUtils:j,fieldBoxProxyUtils:k}});